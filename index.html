<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Chamada F√°cil - Scanner de Presen√ßa</title>

    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#4A90E2">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Chamada PRO">
    <meta name="description" content="Sistema inteligente de controle de presen√ßa via QR Code para professores">

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Favicon -->
    <link rel="icon" type="image/png"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìã</text></svg>">

    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Libs -->
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode/1.5.1/qrcode.min.js"></script>
</head>

<body>

    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <img src="assets/logo1024.svg" alt="Chamada F√°cil" class="logo-img">
            <!-- <div class="logo">üìã</div> -->
            <h1>Chamada F√°cil</h1>
            <div class="loading-spinner"></div>
            <p>Carregando...</p>
        </div>
    </div>

    <!-- Onboarding Screen -->
    <div id="onboarding-screen" class="screen" style="display: none;">
        <div class="onboarding-content">
            <div class="onboarding-header">
                <img src="assets/logo1024.svg" alt="Chamada F√°cil" class="logo-img">
                <h1>Chamada F√°cil</h1>
                <p class="subtitle">Controle de presen√ßa inteligente</p>
            </div>

            <div class="onboarding-steps">
                <div class="step">
                    <div class="step-icon">üìö</div>
                    <h3>Crie suas turmas</h3>
                </div>
                <div class="step">
                    <div class="step-icon">üì±</div>
                    <h3>Escaneie QR Codes</h3>
                </div>
                <div class="step">
                    <div class="step-icon">üìä</div>
                    <h3>Exporte relat√≥rios</h3>
                </div>
            </div>

            <div class="onboarding-profile">
                <label for="onboarding-professor-nome">Nome do professor(a) (opcional)</label>
                <input type="text" id="onboarding-professor-nome" maxlength="80" placeholder="Ex: Ana Souza" />
                <small class="text-muted">Ser√° usado para identifica√ß√£o em relat√≥rios e PDF.</small>
            </div>

            <div class="onboarding-actions">
                <button class="btn btn-primary onboarding-cta" onclick="app.concluirOnboarding(true)">
                    Come√ßar Agora
                </button>
            </div>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="app" class="app-container" style="display: none;">

        <!-- Header -->
        <header class="app-header">
            <button class="btn-icon btn-back" id="btn-back" style="display: none;">
                ‚Üê
            </button>
            <div class="header-logo">
                <img src="assets/logo1024.svg" alt="Chamada PRO" class="logo-img">
            </div>
            <h1 id="header-title">Minhas Turmas</h1>
            <button class="btn-icon btn-menu" id="btn-menu">
                ‚ò∞
            </button>
        </header>

        <!-- Tela 1: Lista de Turmas -->
        <div id="tela-turmas" class="screen active">
            <div class="turmas-header">
                <div class="stats-row">
                    <div class="stat-card">
                        <div class="stat-value" id="total-turmas">0</div>
                        <div class="stat-label">Turmas</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="total-alunos">0</div>
                        <div class="stat-label">Alunos</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="total-chamadas">0</div>
                        <div class="stat-label">Chamadas</div>
                    </div>
                </div>
            </div>

            <!-- MULTI ESCOLA -->
            <div id="filter-escola-container" class="filter-container multi-escola-only hidden" style="display: none;">
                <label for="filter-escola">üè´ Filtrar por Escola:</label>
                <select id="filter-escola">
                    <option value="">Todas as Escolas</option>
                </select>
            </div>
            <!-- MULTI ESCOLA -->

            <div class="search-controls">
                <div class="search-box">
                    <input type="text" id="search-turmas" placeholder="üîç Buscar turma..." />
                </div>
                <div class="multi-escola-toggle-wrapper">
                    <label class="multi-escola-toggle">
                        <input type="checkbox" id="config-multi-escola">
                        <span>V√°rias escolas</span>
                    </label>
                    <small class="multi-escola-hint">Gerenciar escolas no menu ‚ò∞</small>
                </div>
            </div>

            <div id="lista-turmas" class="turmas-list">
                <!-- Turmas ser√£o inseridas aqui -->
            </div>

            <button class="btn-fab" onclick="turmas.mostrarModalNovaTurma()">
                +
            </button>

            <div class="empty-state" id="empty-turmas" style="display: none;">
                <div class="empty-icon">üìö</div>
                <h3>Nenhuma turma cadastrada</h3>
                <p>Crie sua primeira turma para come√ßar</p>
                <button class="btn btn-primary" onclick="turmas.mostrarModalNovaTurma()">
                    Criar Turma
                </button>
            </div>
        </div>

        <!-- Tela 2: Detalhes da Turma -->
        <div id="tela-turma-detalhe" class="screen">
            <div class="turma-info-card">
                <h2 id="turma-nome-detalhe"></h2>
                <p id="turma-descricao-detalhe"></p>
                <div class="turma-stats">
                    <span>üë• <strong id="turma-total-alunos">0</strong> alunos</span>
                    <span>üìÖ <strong id="turma-total-chamadas-realizadas">0</strong> chamadas</span>
                </div>
                <div class="turma-footer-row">
                    <label class="toggle-field turma-segundo-horario-toggle" for="input-detalhe-segundo-horario">
                        <span class="toggle-field-copy">
                            <span class="toggle-field-title">Segundo hor√°rio</span>
                            <small id="segundo-horario-status-detalhe" class="text-muted">Desligado (1 chamada/dia)</small>
                        </span>
                        <span class="toggle-switch">
                            <input type="checkbox" id="input-detalhe-segundo-horario"
                                onchange="turmas.alterarSegundoHorarioDetalhe(this)" />
                            <span class="toggle-slider" aria-hidden="true"></span>
                        </span>
                    </label>
                    <div class="turma-actions">
                        <button class="btn btn-success" onclick="turmas.editarTurma(turmas.turmaAtual?.id)">
                            Editar Turma
                        </button>
                        <button class="btn btn-danger" onclick="turmas.excluirTurma(turmas.turmaAtual?.id)">
                            Excluir Turma
                        </button>
                    </div>
                </div>
            </div>

            <div class="tabs">
                <button class="tab-btn active" data-tab="alunos">Alunos</button>
                <button class="tab-btn" data-tab="historico">Di√°rio de Classe</button>
            </div>

            <!-- Tab Alunos -->
            <div id="tab-alunos" class="tab-content active">
                <div class="section-header">
                    <h3>Lista de Alunos</h3>
                    <div class="action-buttons">
                        <button class="btn btn-secondary btn-sm" onclick="alunos.importarCSV()">
                            üì• Importar CSV
                        </button>
                        <button class="btn btn-secondary btn-sm" onclick="alunos.gerarQRCodesPDF()">
                            üìÑ Gerar QR Codes
                        </button>
                        <button class="btn btn-primary btn-sm" onclick="alunos.mostrarModalNovoAluno()">
                            + Adicionar
                        </button>
                    </div>
                    <div class="csv-modelo-download">
                        <a href="assets/modelos/modelo_alunos.csv" download class="btn btn-secondary btn-sm">
                            ‚¨áÔ∏è Baixar modelo de planilha
                        </a>
                        <small class="csv-modelo-hint">
                            Abra no Excel ou Google Sheets e n√£o altere os nomes das colunas.
                        </small>
                    </div>
                </div>

                <div class="search-box">
                    <input type="text" id="search-alunos" placeholder="üîç Buscar aluno..." />
                </div>

                <div id="lista-alunos" class="alunos-list">
                    <!-- Alunos ser√£o inseridos aqui -->
                </div>

                <div class="empty-state" id="empty-alunos" style="display: none;">
                    <div class="empty-icon">üë•</div>
                    <h3>Nenhum aluno cadastrado</h3>
                    <p>Adicione alunos manualmente ou importe uma lista CSV</p>
                </div>
            </div>

            <!-- Tab Hist√≥rico -->
            <div id="tab-historico" class="tab-content">
                <div class="section-header">
                    <h3>Hist√≥rico de Chamadas</h3>
                    <div class="action-buttons">
                        <button class="btn btn-secondary btn-sm" onclick="chamadas.exportarHistorico()">
                            Exportar Tudo
                        </button>
                        <button class="btn btn-primary btn-sm" onclick="chamadas.toggleRelatorioMensal()">
                            Relat√≥rio Mensal
                        </button>
                    </div>
                </div>

                <div id="relatorio-mensal-container" class="relatorio-mensal-container" style="display: none;">
                    <div class="relatorio-mensal-controls">
                        <input type="month" id="relatorio-mensal-mes" />
                        <button class="btn btn-secondary btn-sm" onclick="chamadas.exportarRelatorioMensalCSV()">
                            Exportar CSV
                        </button>
                        <button class="btn btn-secondary btn-sm" onclick="chamadas.exportarRelatorioMensalPDF()">
                            Exportar PDF
                        </button>
                    </div>
                    <div id="relatorio-mensal-tabela-wrap" class="relatorio-mensal-tabela-wrap"></div>
                </div>

                <div id="lista-historico" class="historico-list">
                    <!-- Hist√≥rico ser√° inserido aqui -->
                </div>

                <div class="empty-state" id="empty-historico" style="display: none;">
                    <div class="empty-icon">üìÖ</div>
                    <h3>Nenhuma chamada realizada</h3>
                    <p>Inicie uma chamada para come√ßar o hist√≥rico</p>
                </div>
            </div>

            <button class="btn-fab" onclick="scanner.iniciarChamada(turmas.turmaAtual?.id)">
                üì∑
            </button>
        </div>

        <!-- Tela 3: Scanner de QR Code -->
        <div id="tela-scanner" class="screen">
            <div class="scanner-info">
                <div class="chamada-info-card">
                    <h3 id="scanner-turma-nome"></h3>
                    <p id="scanner-data-hora"></p>
                    <div class="presencas-counter">
                        <span class="counter-label">Presen√ßas:</span>
                        <span class="counter-value" id="contador-presencas">0</span>
                    </div>
                </div>
            </div>

            <div id="reader" class="qr-reader"></div>

            <div id="feedback" class="feedback"></div>

            <div class="scanner-controls">
                <button class="btn btn-secondary" id="btn-toggle-camera">
                    üîÑ Alternar
                </button>
                <button class="btn btn-warning" id="btn-torch">
                    üí° Lanterna
                </button>
                <button class="btn btn-success" id="btn-finalizar-chamada">
                    ‚úì Finalizar
                </button>
            </div>

            <div class="presencas-live-list">
                <h4>Presen√ßas Confirmadas</h4>
                <div id="lista-presencas-live">
                    <!-- Presen√ßas aparecer√£o aqui em tempo real -->
                </div>
            </div>

            <div id="camera-status" class="camera-status">
                C√¢mera: Inativa
            </div>
        </div>

        <!-- Tela 4: Resumo da Chamada -->
        <div id="tela-resumo" class="screen">
            <div class="resumo-header">
                <div class="resumo-icon">‚úì</div>
                <h2>Chamada Finalizada!</h2>
                <p id="resumo-info"></p>
            </div>

            <div class="resumo-stats">
                <div class="stat-large">
                    <div class="stat-value" id="resumo-presentes">0</div>
                    <div class="stat-label">Presentes</div>
                </div>
                <div class="stat-large">
                    <div class="stat-value" id="resumo-ausentes">0</div>
                    <div class="stat-label">Ausentes</div>
                </div>
                <div class="stat-large">
                    <div class="stat-value" id="resumo-percentual">0%</div>
                    <div class="stat-label">Frequ√™ncia</div>
                </div>
            </div>

            <div class="resumo-lista">
                <h3>Presentes</h3>
                <div id="resumo-lista-presentes"></div>

                <h3>Ausentes</h3>
                <div id="resumo-lista-ausentes"></div>
            </div>

            <div class="resumo-actions">
                <button class="btn btn-secondary btn-large" onclick="chamadas.compartilhar()">
                    üì§ Compartilhar
                </button>
                <button class="btn btn-primary btn-large" onclick="chamadas.exportarCSV()">
                    üì• Baixar CSV
                </button>
                <button class="btn btn-success btn-large" onclick="app.voltarParaTurma()">
                    ‚úì Concluir
                </button>
            </div>
        </div>

        <!-- Tela 5: Configura√ß√µes -->
        <div id="tela-config" class="screen">
            <div class="config-section">
                <h3>Prefer√™ncias</h3>

                <div class="config-item">
                    <label>
                        <input type="checkbox" id="config-som" checked>
                        <span>Som de confirma√ß√£o</span>
                    </label>
                </div>


                <div class="config-item">
                    <label>
                        <input type="checkbox" id="config-vibracao" checked>
                        <span>Vibra√ß√£o</span>
                    </label>
                </div>

                <div class="config-item">
                    <label>
                        <input type="checkbox" id="config-wake-lock" checked>
                        <span>Manter tela ligada durante escaneamento</span>
                    </label>
                </div>

            </div>

            <div class="config-section">
                <h3>Perfil do Professor</h3>

                <div class="form-group" style="margin-bottom: 12px;">
                    <label for="config-professor-nome">Nome do professor(a)</label>
                    <input type="text" id="config-professor-nome" maxlength="80" placeholder="N√£o informado" />
                    <small class="text-muted">Usado para identifica√ß√£o em relat√≥rios/PDF.</small>
                </div>

                <div class="config-profile-actions">
                    <button class="btn btn-primary" onclick="app.salvarNomeProfessor()">
                        Salvar Nome
                    </button>
                    <button class="btn btn-secondary" onclick="app.removerNomeProfessor()">
                        Remover Nome
                    </button>
                </div>
            </div>

            <div class="config-section">
                <h3>Dados</h3>

                <button class="btn btn-secondary btn-block" onclick="app.exportarBackup()">
                    üì¶ Exportar Backup
                </button>

                <button class="btn btn-secondary btn-block" onclick="app.importarBackup()">
                    üì• Importar Backup
                </button>

                <button class="btn btn-danger btn-block" onclick="app.limparTodosDados()">
                    üóëÔ∏è Limpar Todos os Dados
                </button>
            </div>

        </div>

    </div>

    <!-- Modal: Nova Turma -->
    <div id="modal-nova-turma" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Nova Turma</h3>
                <button class="btn-close" onclick="app.fecharModal('modal-nova-turma')">√ó</button>
            </div>
            <div class="modal-body">
                <!-- MULTI ESCOLA: exibido somente quando config.multi_escola === true -->
                <div class="form-group multi-escola-only hidden">
                    <label>Escola</label>
                    <select id="input-turma-escola">
                        <option value="">Selecione uma escola...</option>
                    </select>
                </div>
                <!-- MULTI ESCOLA -->

                <div class="form-group">
                    <label>Nome da Turma *</label>
                    <input type="text" id="input-turma-nome" placeholder="Ex: 3¬∫ Ano A - Matem√°tica" />
                </div>
                <div class="form-group">
                    <label>Descri√ß√£o</label>
                    <textarea id="input-turma-descricao" placeholder="Informa√ß√µes adicionais (opcional)"
                        rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label class="toggle-field" for="input-turma-segundo-horario">
                        <span class="toggle-field-copy">
                            <span class="toggle-field-title">Segundo hor√°rio?</span>
                            <small class="text-muted">Ative apenas se a turma costuma ter duas chamadas no mesmo dia.</small>
                        </span>
                        <span class="toggle-switch">
                            <input type="checkbox" id="input-turma-segundo-horario" />
                            <span class="toggle-slider" aria-hidden="true"></span>
                        </span>
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="app.fecharModal('modal-nova-turma')">Cancelar</button>
                <button class="btn btn-primary" onclick="turmas.salvarNovaTurma()">Criar Turma</button>
            </div>
        </div>
    </div>

    <!-- Modal: Novo Aluno -->
    <div id="modal-novo-aluno" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-aluno-titulo">Novo Aluno</h3>
                <button class="btn-close"
                    onclick="alunos.resetarPreviewFoto(); app.fecharModal('modal-novo-aluno')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group center-content" style="text-align: center; margin-bottom: 20px;">
                    <div id="aluno-foto-preview" class="avatar-placeholder"
                        onclick="alunos.escolherFonteFoto()">
                        <span id="foto-placeholder-icon" style="font-size: 24px;">üì∑</span>
                        <span id="foto-placeholder-text"
                            style="font-size: 12px; display: block; margin-top: 4px; color: var(--primary);">Adicionar
                            Foto</span>
                    </div>
                    <input type="file" id="input-aluno-foto" accept="image/*"
                        style="display: none;" onchange="alunos.processarFoto(this.files[0])">
                </div>
                <div class="form-group" style="text-align: center; margin-bottom: 20px;">
                    <button type="button" class="btn btn-secondary" onclick="alunos.lerQrExistente()">
                        üì∑ Ler QR Existente
                    </button>
                    <br>
                    <small class="text-muted">Importar dados de um QR Code j√° cadastrado</small>
                </div>
                <div class="form-group">
                    <label>Nome Completo *</label>
                    <input type="text" id="input-aluno-nome" placeholder="Ex: Maria da Silva" />
                </div>
                <div class="form-group">
                    <label>Matr√≠cula / ID *</label>
                    <input type="text" id="input-aluno-matricula" placeholder="Ex: 2024001" />
                </div>
                <div class="form-group">
                    <label>Email (opcional)</label>
                    <input type="email" id="input-aluno-email" placeholder="aluno@email.com" />
                </div>
                <div class="form-group">
                    <label for="input-aluno-obs">üìù Observa√ß√µes</label>
                    <textarea id="input-aluno-obs" rows="2" placeholder="Anota√ß√µes sobre o aluno"></textarea>
                </div>

                <div id="aluno-pontos-section" class="aluno-pontos-section" style="display: none;">
                    <div class="aluno-pontos-header">
                        <h4>üìå Pontos do aluno</h4>
                        <div class="aluno-pontos-header-actions">
                            <button type="button" class="btn btn-secondary btn-sm" onclick="alunos.abrirModalEventoPonto()">
                                Adicionar Ponto
                            </button>
                            <span id="aluno-pontos-total" class="aluno-pontos-total">Total de pontos: 0</span>
                        </div>
                    </div>
                    <div id="lista-eventos-pontos" class="lista-eventos-pontos">
                        <p class="text-muted">Nenhum ponto registrado</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary"
                    onclick="alunos.resetarPreviewFoto(); app.fecharModal('modal-novo-aluno')">Cancelar</button>
                <button class="btn btn-primary" id="btn-salvar-aluno" onclick="alunos.salvarNovoAluno()">Salvar</button>
            </div>
        </div>
    </div>

    <!-- Modal: Fonte da Foto -->
    <div id="modal-fonte-foto" class="modal"
        onclick="if (event.target === this) app.fecharModal('modal-fonte-foto')">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Adicionar Foto</h3>
                <button class="btn-close" onclick="app.fecharModal('modal-fonte-foto')">√ó</button>
            </div>
            <div class="modal-body">
                <p class="text-muted" style="margin-bottom: 12px;">Como deseja adicionar a foto do aluno?</p>
                <div class="action-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button type="button" class="btn btn-primary" onclick="alunos.escolherFotoPelaCamera()">
                        üì∑ Tirar Foto
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="alunos.escolherFotoDoDispositivo()">
                        üñºÔ∏è Escolher do Dispositivo
                    </button>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="app.fecharModal('modal-fonte-foto')">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal: Evento de Ponto -->
    <div id="modal-evento-ponto" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-evento-ponto-titulo">Adicionar Ponto</h3>
                <button class="btn-close" onclick="app.fecharModal('modal-evento-ponto')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="input-evento-ponto-valor">Valor *</label>
                    <input type="number" id="input-evento-ponto-valor" min="0.1" step="0.1" placeholder="Ex: 5" />
                </div>
                <div class="form-group">
                    <label for="input-evento-ponto-descricao">Descri√ß√£o *</label>
                    <textarea id="input-evento-ponto-descricao" rows="3" placeholder="Ex: Trabalho em grupo"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="app.fecharModal('modal-evento-ponto')">Cancelar</button>
                <button class="btn btn-primary" onclick="alunos.salvarEventoPonto()">Salvar</button>
            </div>
        </div>
    </div>

    <!-- Modal: Menu -->
    <div id="modal-menu" class="modal modal-menu">
        <div class="modal-content modal-menu-content">
            <div class="modal-header">
                <h3>Menu</h3>
                <button class="btn-close" onclick="app.fecharModal('modal-menu')">√ó</button>
            </div>
            <div class="modal-body">
                <button class="menu-item" onclick="app.mostrarTela('tela-turmas'); app.fecharModal('modal-menu');">
                    <span class="menu-icon">üè†</span>
                    <span>Minhas Turmas</span>
                </button>
                <button class="menu-item" onclick="app.mostrarTela('tela-config'); app.fecharModal('modal-menu');">
                    <span class="menu-icon">‚öôÔ∏è</span>
                    <span>Configura√ß√µes</span>
                </button>
                <button class="menu-item multi-escola-only hidden"
                    onclick="escolas.mostrarModalGerenciar(); app.fecharModal('modal-menu');">
                    <span class="menu-icon">üè´</span>
                    <span>Gerenciar Escolas</span>
                </button>
                <button class="menu-item" onclick="app.exportarBackup(); app.fecharModal('modal-menu');">
                    <span class="menu-icon">üì¶</span>
                    <span>Exportar Backup</span>
                </button>
                <button class="menu-item" onclick="app.abrirSobre()">
                    <span class="menu-icon">üåê</span>
                    <span>Sobre o Chamada F√°cil</span>
                </button>
                <button class="menu-item" onclick="app.mostrarAjuda(); app.fecharModal('modal-menu');">
                    <span class="menu-icon">‚ùì</span>
                    <span>Ajuda</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Modal: Gerenciar Escolas -->
    <div id="modal-gerenciar-escolas" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üè´ Gerenciar Escolas</h3>
                <button class="btn-close" onclick="app.fecharModal('modal-gerenciar-escolas')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Nome da Escola *</label>
                    <div style="display: flex; gap: 8px;">
                        <input type="text" id="input-nova-escola" placeholder="Ex: Col√©gio S√£o Jos√©" style="flex: 1;" />
                        <button class="btn btn-primary" onclick="escolas.adicionarEscola()">
                            + Adicionar
                        </button>
                    </div>
                </div>

                <h4 style="margin-top: 24px; margin-bottom: 12px;">Escolas Cadastradas</h4>
                <div id="lista-escolas-gerenciar" class="escolas-list">
                    <!-- Escolas ser√£o inseridas aqui -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal: Sobre -->
    <div id="modal-sobre" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Sobre o Chamada F√°cil</h3>
                <button class="btn-close" onclick="app.fecharModal('modal-sobre')">√ó</button>
            </div>
            <div class="modal-body">
                <p><strong>Chamada F√°cil</strong></p>
                <p>Sistema de chamada escolar com QR Code, focado em agilidade para professores.</p>

                <p style="margin-top: 12px;">
                    Vers√£o: <strong>v0.3.5-beta</strong><br>
                </p>

                <p style="margin-top: 12px;">
                    üìß E-mail:
                    <a href="mailto:contato@chamadafacil.net.br">
                        contato@chamadafacil.net.br
                    </a>
                </p>
                <p style="margin-top: 12px;">
                    ¬© 2026 - Todos os direitos reservados
                </p>
                <div style="margin-top: 24px; text-align: center;">
                    <a href="https://www.chamadafacil.net.br" target="_blank" class="btn btn-primary"
                        style="text-decoration: none; display: inline-block;">
                        üåê Site Oficial
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Scanner Overlay para Cadastro (Fix Android) -->
    <div id="qr-scan-overlay"
        style="position: fixed; inset: 0; background: #000; z-index: 9999; display: none; flex-direction: column;">
        <div id="reader-temp" style="flex:1;"></div>
        <button type="button" onclick="scanner.fecharOverlay()"
            style="padding:16px; font-size:18px; background:#fff; border:none; cursor:pointer;">
            Fechar
        </button>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Scripts -->
    <script src="js/utils.js"></script>
    <script src="js/db.js"></script>
    <script src="js/config-defaults.js"></script>
    <script src="js/escolas.js?v=2"></script>
    <script src="js/turmas.js?v=2"></script>
    <script src="js/alunos.js?v=2"></script>
    <script src="js/chamadas.js?v=2"></script>
    <script src="js/scanner.js?v=2"></script>
    <script src="js/export.js?v=2"></script>
    <script src="js/qrgen.js?v=2"></script>

    <script src="js/app.js?v=2"></script>

</body>

</html>
